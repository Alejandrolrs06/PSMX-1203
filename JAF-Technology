![Leonardo_Phoenix_10_A_futuristic_hightech_banner_featuring_the_0](https://github.com/user-attachments/assets/f485e7ab-a7d4-4f5b-9b10-8e2e60fea177)
# **JAF Technology: Plataforma de Hosting Web** üåêüíª






## 1. **Idea seleccionada** üßë‚Äçüíª

El objetivo de este proyecto es la creaci√≥n de un servidor web basado en **Linux (Ubuntu)** para alojar un sitio web din√°mico. Se busca crear un servicio de hosting similar a **cdmon**, proporcionando una soluci√≥n para los usuarios que necesiten alojar sus p√°ginas web. Adem√°s, se desarrollar√° una p√°gina web corporativa utilizando **HTML**, **CSS** y **JavaScript**, e incorporaremos medidas de seguridad, como un **firewall** üîí y an√°lisis de seguridad con **pentesting** üïµÔ∏è‚Äç‚ôÇÔ∏è (incluyendo **Burp Suite**). Tambi√©n se analizar√° el tr√°fico de red utilizando **Wireshark** üêü para mejorar tanto la seguridad como el rendimiento.

## 2. **Motivo del proyecto** üéØ

Este proyecto nos supone un desaf√≠o personal y una gran oportunidad de aprendizaje. Aunque algunos aspectos nos resulten m√°s interesantes que otros, todos coincidimos en que es una experiencia √∫nica, ya que ninguno de los miembros del equipo ha trabajado en algo similar. Con la ayuda de nuestros profesores confiamos en que este ser√° un gran proyecto.

## 3. **Objetivos y listado de tareas** üìù

1. **Configurar servidor web en Linux con Nginx**:
   - Instalar **Ubuntu Server** y **Nginx**.
   - Configurar **hosts virtuales** y optimizar Nginx.

2. **Crear y alojar un sitio web din√°mico**:
   - Desarrollar el sitio con **HTML**, **CSS** y **JavaScript**.
   - Integrar **PHP** y **MySQL** para contenido din√°mico.

3. **Implementar base de datos MySQL**:
   - Instalar y configurar **MySQL**.
   - Conectar la base de datos al sitio web.

4. **Administrar servidor con Webmin**:
   - Instalar y configurar **Webmin** para gesti√≥n remota.

5. **Instalar y configurar PHP**:
   - Instalar **PHP** y configurarlo para **Nginx**.

6. **Configurar DNS y SSL**:
   - Configurar **DNS** y **SSL** para seguridad HTTPS.

7. **Desarrollar p√°gina web corporativa**:
   - Crear una p√°gina web moderna y responsiva.

8. **Asegurar el servidor con firewall (Sophos)**:
   - Configurar **Sophos** para protecci√≥n del servidor.

9. **Pruebas de penetraci√≥n con Burp Suite**:
   - Realizar pruebas de seguridad con **Burp Suite**.

10. **Analizar tr√°fico de red con Wireshark**:
   - Monitorizar el tr√°fico de red con **Wireshark**.

11. **Optimizaci√≥n y rendimiento**:
   - Ajustar configuraciones de **PHP** y **MySQL**.
   - Implementar **cach√©** en **Nginx**.

## 4. **Asignar roles y responsabilidades del equipo** üë•

- **Alejandro (Encargado del Firewall y GitHub)** üîê:
  - **Firewall**: Configuraci√≥n del **firewall Sophos**.
  - **Pentesting**: Realizaci√≥n de pruebas de penetraci√≥n con **Burp Suite**.
  - **GitHub**: Gesti√≥n del repositorio de c√≥digo y documentaci√≥n.
  - **Web Corporativa**: Colaboraci√≥n en el desarrollo y seguridad de la p√°gina web.

- **Jiajie (Encargado del Dise√±o Web)** üé®:
  - **MySQL**: Implementaci√≥n y gesti√≥n de la base de datos **MySQL**.
  - **Trello**: Gesti√≥n del proyecto en **Trello**.
  - **Diagramas**: Creaci√≥n de diagramas de arquitectura y flujos de trabajo.

- **Felipe (Encargado de la Red)** üåê:
  - **DNS**: Configuraci√≥n del **DNS** para la correcta resoluci√≥n de dominios.
  - **Webmin**: Administraci√≥n del servidor mediante **Webmin**.
  - **Optimizaci√≥n de Nginx y PHP/MySQL**: Mejora del rendimiento general del servidor.

## 5. **Diagrama de la red** üåê

- **Servidor Web (Nginx)**: Conectado al **Servidor de Base de Datos (MySQL)**.
- **Firewall (Sophos)**: Protege todos los servidores del tr√°fico no deseado.
- **Servidor DNS**: Resuelve nombres de dominio.
- **Servidor Webmin**: Administra el servidor de manera sencilla.
- **Kali Linux (Pentesting)**: Realiza las pruebas de penetraci√≥n.
- **Wireshark**: Monitorea el tr√°fico de red para asegurar el rendimiento y la seguridad.

<img src="https://github.com/user-attachments/assets/458fd8ed-352b-4bef-bf83-6d45b8919da6" width="750"/>
<p>Diagrama de red en Cisco</p>
La ip externa que nos proporciona el centro es la 100.77.20.X, la ip p√∫blica es 77.231.11.106 y la privada es: 10.1.2.X.

<img src="https://github.com/user-attachments/assets/3bc51b45-6d9a-4257-9b8a-16880e643b40" width="750"/>
<p>Diagrama de red en Canva</p>

## 6. **Tecnolog√≠as y Servicios a implementar** üõ†Ô∏èüöÄ

- **Ubuntu Server**: Sistema operativo para la gesti√≥n y administraci√≥n del servidor web.
- **Nginx**: Servidor web utilizado para alojar y servir el contenido din√°mico de las p√°ginas web.
- **PHP**: Lenguaje de programaci√≥n para procesar contenido din√°mico en las p√°ginas web.
- **MySQL**: Sistema de gesti√≥n de bases de datos para almacenar la informaci√≥n de usuarios, p√°ginas web y otros datos relacionados.
- **Webmin**: Interfaz gr√°fica para la administraci√≥n remota del servidor, facilitando tareas de configuraci√≥n y gesti√≥n.
- **Wireshark**: Herramienta para el an√°lisis del tr√°fico de red, utilizada para identificar vulnerabilidades de seguridad y mejorar el rendimiento.
- **Burp Suite**: Herramienta de pruebas de penetraci√≥n para evaluar la seguridad de la aplicaci√≥n web y detectar posibles fallos o brechas de seguridad.
- **Sophos**: Soluci√≥n de firewall para proteger el servidor y la red de accesos no autorizados y otros tipos de ataques.
- **SSL**: Implementaci√≥n de un sistema de cifrado de comunicaciones para garantizar la seguridad de las conexiones HTTPS entre los usuarios y el servidor.
- **TrueNAS**: Sistema para gestionar las copias de seguridad, asegurando la protecci√≥n y recuperaci√≥n de datos.

## 7. **Hardware virtual a utilizar** üñ•Ô∏è

**M√°quinas virtuales**:
- **Servidor Web (Nginx)**: 
  - **CPU**: 1 n√∫cleo.
  - **RAM**: 2 GB.
  - **Almacenamiento**: 20 GB.

- **Servidor de Base de Datos (MySQL)**: 
  - **CPU**: ? n√∫cleos.
  - **RAM**: ? GB.
  - **Almacenamiento**: ? GB.

- **Firewall (Sophos)**: 
  - **CPU**: 1 n√∫cleo.
  - **RAM**: 4 GB.
  - **Almacenamiento**: 20 GB.

- **Servidor DNS y DHCP (Pi-hole)**: 
  - **CPU**: 1 n√∫cleo.
  - **RAM**: 2 GB.
  - **Almacenamiento**: 20 GB.

- **Kali Linux (Pentesting y Burp Suite)**: 
  - **CPU**: ? n√∫cleos.
  - **RAM**: ? GB.
  - **Almacenamiento**: ? GB.

- **Servidor Webmin**: 
  - **CPU**: ? n√∫cleo.
  - **RAM**: ? GB.
  - **Almacenamiento**: ? GB.

## 8. **Sistemas operativos a utilizar** üñ•Ô∏è

- **Ubuntu Server**: Para todas las m√°quinas excepto la de la prueba de penetraci√≥n.
- **Kali Linux**: Para pruebas de penetraci√≥n y seguridad.
- **Ubuntu Desktop**: Para usarla de cliente y probar el DNS y DHCP y otras pruebas que requieran interfaz gr√°fica.

## 9. **Diagrama de Gantt** üìÖ

| Fase/Actividad                      | Inicio   | Fin      | Responsable(s)       |
|--------------------------------------|----------|----------|----------------------|
| **Documentaci√≥n en GitHub**          | 23/01/25 | 29/04/25 | **Alejandro** üìÅ   |
| **Documentaci√≥n en Trello**          | 23/01/25 | 29/04/25 | **Jiajie** üìÅ   |
| **Configuraci√≥n del Firewall (Sophos)** | 10/02/25 | 17/02/25 | **Alejandro** üîí|
| **Configuraci√≥n del DHCP**           | 13/02/25 | 20/02/25 | **Felipe** üîß   |
| **Configuraci√≥n del Servidor Web**   | 17/02/25 | 24/02/25 | **Jiajie** üõ†Ô∏è   |
| **Configuraci√≥n del DNS**            | 27/02/25 | 06/03/25 | **Felipe** üåê   |
| **Desarrollo Web (HTML/CSS/JS)**     | 10/03/25 | 20/03/25 | **Todos** üé®   |
| **Integraci√≥n de Base de Datos**     | 21/03/25 | 25/03/25 | **Encargado** üìä   |
| **Configuraci√≥n de PHP y Webmin**    | 26/03/25 | 31/03/25 | **Encargado** üåê   |
| **Pruebas de Seguridad (Pentesting)**| 01/04/25 | 10/04/25 | **Encargado** üïµÔ∏è‚Äç‚ôÇÔ∏è |
| **An√°lisis de Tr√°fico (Wireshark)**  | 11/04/25 | 17/04/25 | **Encargado** üêü   |
| **Optimizaci√≥n y Ajustes Finales**   | 18/04/25 | 27/04/25 | **Encargado** üë•   |
| **Entrega del Proyecto**             | 30/04/25 | 06/05/25 | **Finalizaci√≥n** ‚úÖ |

## 10. **Diagrama de Relaciones Entidad-Relaci√≥n** üóÇÔ∏è

#### 1Ô∏è‚É£ **Usuarios ‚Üí Pagos**
- **Relaci√≥n**: 1 a N (Uno a Muchos)
- **Descripci√≥n**: Un usuario puede realizar varios pagos, pero cada pago pertenece a un √∫nico usuario.
- **Clave For√°nea**: `Usuarios.id_usuario ‚Üí Pagos.id_usuario`

#### 2Ô∏è‚É£ **Usuarios ‚Üí Configuraciones**
- **Relaci√≥n**: 1 a N (Uno a Muchos)
- **Descripci√≥n**: Un usuario puede tener varias configuraciones, pero cada configuraci√≥n est√° asociada a un solo usuario.
- **Clave For√°nea**: `Usuarios.id_usuario ‚Üí Configuraciones.id_usuario`

#### 3Ô∏è‚É£ **Planes_Hosting ‚Üí Pagos**
- **Relaci√≥n**: 1 a N (Uno a Muchos)
- **Descripci√≥n**: Cada pago corresponde a un √∫nico plan de hosting, pero un plan puede ser adquirido varias veces.
- **Clave For√°nea**: `Planes_Hosting.id_plan ‚Üí Pagos.id_plan`

#### 4Ô∏è‚É£ **Planes_Hosting ‚Üí Configuraciones**
- **Relaci√≥n**: 1 a N (Uno a Muchos)
- **Descripci√≥n**: Un plan de hosting puede tener muchas configuraciones, pero cada configuraci√≥n pertenece a un √∫nico plan.
- **Clave For√°nea**: `Planes_Hosting.id_plan ‚Üí Configuraciones.id_plan`

#### 5Ô∏è‚É£ **Usuarios ‚Üí Sitio_Web**
- **Relaci√≥n**: 1 a N (Uno a Muchos)
- **Descripci√≥n**: Un usuario puede crear y gestionar m√∫ltiples sitios web, pero cada sitio web est√° asociado exclusivamente a un √∫nico usuario.
- **Clave For√°nea**: `Usuarios.id_usuario ‚Üí Sitio_Web.id_usuario`

![Diagrama ER](https://github.com/P-SMX123/PSMX1203/blob/main/Captura%20de%20pantalla%202025-02-07%20185852.png)

## 11. **DNS y DHCP con Pi-hole** üåç

### **1. Introducci√≥n al servicio (DNS y DHCP)**  
El **DNS** traduce los nombres de dominio a direcciones IP y **DHCP** asigna autom√°ticamente direcciones IP a los dispositivos y usamos el **Pi-hole** para gestionar ambos servicios, simplificando y mejorando la eficiencia de la red y bloqueando anuncios.

### **2. ¬øQu√© es DNS y por qu√© es necesario?**  
**DNS** convierte los dominios (ej. `jaftechnology.com`) en direcciones IP (ej. `10.1.2.10`) que es esencial para simplificar el acceso a sitios web por su nombre y mejora la velocidad de navegaci√≥n gracias a la cach√©.

**¬øPor qu√© es necesario?**  
Sin **DNS** no podr√≠amos acceder a sitios web f√°cilmente usando sus nombres y la navegaci√≥n ser√≠a m√°s compleja ya que tendr√≠amos que poner la IP directamente es un mucho m√°s dif√≠cil recordar muchas IPs que nombres de dominio.

### **3. ¬øQu√© es DHCP y por qu√© es necesario?**  
**DHCP** asigna autom√°ticamente direcciones IP a los dispositivos en la red, es necesario para evitar configuraciones manuales y conflictos de IP.

**¬øPor qu√© es necesario?**  
El uso de **DHCP** facilita la administraci√≥n de la red al asignar direcciones √∫nicas autom√°ticamente a los dispositivos, sin el **DHCP** cada dispositivo necesitar√≠a ser configurado manualmente, lo que puede causar conflictos y errores en la red.

**¬øD√≥nde hay informaci√≥n oficial?**  
Consulta la [p√°gina de Pi-hole](https://docs.pi-hole.net/) para m√°s informaci√≥n.

### **4. Instalaci√≥n de DNS y DHCP con Pi-hole en Ubuntu**

#### **4.2. Actualizaci√≥n del sistema**  
Antes de instalar Pi-hole, actualiza el sistema con:  
```
sudo apt update && sudo apt upgrade -y
```

#### **4.3. Instalaci√≥n de Pi-hole**  
Instala Pi-hole con el siguiente comando:  
```
curl -sSL https://install.pi-hole.net | bash
```
![image](https://github.com/user-attachments/assets/13d9959b-1b35-47d0-b186-63971bef9acc)

#### **4.4. Configuraci√≥n del servidor DNS**  
Selecciona un proveedor de DNS (Google, Cloudflare, etc.) y activa el bloqueo de anuncios.
![image](https://github.com/user-attachments/assets/0073e040-7a5c-46c0-b06e-ff0cadae7eb8)

#### **4.5. Habilitaci√≥n del servidor DHCP**  
1. Accede a la interfaz web en `http://pi.hole/admin`.  
2. Activa el servidor **DHCP** desde la pesta√±a **Settings** > **DHCP**.
3. Configura el rango de IPs a asignar, por ejemplo, si tu red usa el rango `192.168.1.0/24` puedes asignar el rango de IPs de `192.168.1.100` a `192.168.1.200`.
4. **Desactiva el servicio DHCP** en tu router para evitar conflictos en la asignaci√≥n de IPs ya que solo debe haber un servidor DHCP en la red.
![image](https://github.com/user-attachments/assets/2b2b00c4-5235-43b3-a811-a4425e1e6743)


### **5. ¬øPor qu√© utilizar Pi-hole para gestionar DHCP?**  
Usar Pi-hole para gestionar **DNS** y **DHCP** tiene varias ventajas:

- **Centralizaci√≥n de los servicios**: Al gestionar ambos servicios desde una sola interfaz facilita el mantenimiento de la red.
- **Optimizaci√≥n de la red**: El DHCP de Pi-hole asigna IPs de manera eficiente y el bloqueo de anuncios mejora la velocidad de navegaci√≥n.
- **Seguridad**: Tener un control √∫nico sobre ambos servicios nos permite tener mejor visibilidad sobre los dispositivos conectados y gestionar posibles bloqueos.

### **6. Incidencias**  
Tuvimos problemas con **Bind9**, lo que nos llev√≥ a optar por Pi-hole, que inicialmente tambi√©n present√≥ algunos inconvenientes. Sin embargo, tras reinstalarlo, configurarlo nuevamente y con la ayuda de los profesores, todo comenz√≥ a funcionar correctamente.

### **7. Conclusi√≥n**  
Pi-hole simplific√≥ la gesti√≥n de **DNS** y **DHCP**, mejorando la red, bloqueando anuncios y optimizando el rendimiento. La centralizaci√≥n de estos servicios en una √∫nica plataforma facilit√≥ el control y mantenimiento de la red en lugar de tener aqu√≠ el DNS y el DHCP en el firewall.

## 12. APACHE, PHP y HTML  üì¶

### **1. Introducci√≥n** 
Apache es un servidor web de c√≥digo abierto que permite alojar aplicaciones y sitios web. PHP es un lenguaje de programaci√≥n utilizado para el desarrollo web y ahora os explicaremos c√≥mo instalar y configurar ambos en Ubuntu.

### **2. ¬øQu√© es Apache y por qu√© es necesario?** 
Apache es un servidor HTTP que permite a los usuarios acceder a p√°ginas web alojadas en un servidor, es altamente configurable y compatible con otras aplicaciones o servicios.

**¬øPor qu√© es necesario?** 
Porque Apache permite la publicaci√≥n de sitios web y aplicaciones en un entorno seguro y escalable.

### **3. ¬øQu√© es PHP y por qu√© es necesario?** 
PHP es un lenguaje de programaci√≥n de servidor que se utiliza para la creaci√≥n de sitios din√°micos y aplicaciones web, PHP tambi√©n permite el procesamiento de datos en el servidor, la conexi√≥n con bases de datos y la generaci√≥n de contenido din√°mico.

### **4. Instalaci√≥n de Apache y PHP en Ubuntu**

**4.1. Actualizaci√≥n del sistema**

Antes de instalar Pi-hole actualiza el sistema con:
```
sudo apt update && sudo apt upgrade -y
```

**4.2. Instalaci√≥n del Apache**

Para instalar Apache ejecuta el siguiente comando:
```
sudo apt install apache2 -y
```

Para verificar que Apache est√° en ejecuci√≥n:
```
sudo systemctl status apache2
```

Si Apache no est√° activo, puedes iniciarlo con:
```
sudo systemctl start apache2
```

Para asegurarte de que Apache se inicie autom√°ticamente al arrancar el sistema:
```
sudo systemctl enable apache2
```

**4.3. Instalaci√≥n de PHP**

Para instalar PHP junto con el m√≥dulo de Apache y soporte para MySQL ejecuta:
```
sudo apt install php libapache2-mod-php php-mysql -y
```

Verifica la instalaci√≥n de PHP con:
```
php -v
```

**4.4. Configuraci√≥n de Apache para PHP**

Para asegurarte de que Apache prioriza los archivos PHP edita el archivo de configuraci√≥n:
```
sudo nano /etc/apache2/mods-enabled/dir.conf
```

Modifica la l√≠nea:
```
DirectoryIndex index.html index.cgi index.pl index.php index.xhtml index.htm
```

Aseg√∫rate de que index.php sea el primero:
```
DirectoryIndex index.php index.html index.cgi index.pl index.xhtml index.htm
```

Guarda, cierra el archivo y luego reinicia Apache:
```
sudo systemctl restart apache2
```

### **5. Pruebas y soluci√≥n de incidencias**

**5.1. Verificar que Apache y PHP funcionan correctamente**

Crea un archivo de prueba:
```
sudo nano /var/www/html/info.php
```

A√±ade el siguiente contenido:
```
<?php
phpinfo();
?>
```

Guarda y cierra el archivo. Luego accede a:
```
http://localhost/info.php
```

**5.2. Problemas comunes que nos ha sucedido y soluciones**

Apache no inicia: Ejecuta ```bash sudo systemctl restart apache2.```

P√°gina en blanco en info.php: Verifica la instalaci√≥n de PHP con ```bash php -v.```

Acceso denegado a archivos PHP: Ajusta permisos con ```bash sudo chmod -R 755 /var/www/html/.```


## 13. **Pfsense**  üîí

**1.	¬øQu√© es pfSense y para qu√© se utiliza?**

Es un software de firewall y enrutador de c√≥digo abierto, se utiliza para proteger redes, gestionar el tr√°fico y ofrecer funciones avanzadas de seguridad en entornos empresariales y dom√©sticos.

**2.	¬øEn qu√© sistema se basa?**

PfSense est√° basado en el sistema operativo FreeBSD, lo que le proporciona estabilidad, seguridad y compatibilidad con diversas configuraciones de red.

**3.	¬øCu√°les son las principales caracter√≠sticas de pfSense?**

-VPN para conexiones seguras.

-Control de tr√°fico y calidad de servicio .

-Registro y monitoreo del tr√°fico en tiempo real.

-Compatibilidad con complementos para ampliar funcionalidades.

**4.	¬øC√≥mo se instala y configura pfSense? ¬øQu√© debemos tener en consideraci√≥n al instalarlo en un entorno virtual?**

La instalaci√≥n de pfSense se realiza descargando la imagen ISO, creando un medio de instalaci√≥n y configurando el sistema en un hardware compatible o m√°quina virtual. Al instalarlo en un entorno virtual, es importante considerar la asignaci√≥n de recursos adecuados.

**5.	¬øConsideras pfSense una opci√≥n viable para empresas y redes dom√©sticas?**

S√≠, pfSense es una buena opci√≥n tanto para empresas como para redes dom√©sticas debido a su  facilidad de uso, su conjunto de caracter√≠sticas avanzadas, flexibilidad y ofrece una soluci√≥n de seguridad sin los costos asociados a soluciones comerciales.



## 14. **INSTALACI√ìN Pfsense**  üîí

**1.Descargar la ISO**

`
https://www.pfsense.org/download/
`

**2.Instalaci√≥n**

1.Instalamos todo por defecto, luego apagamos, quitamos la ISO de la maquina virtual, volvemos a arrancarla y una vez que nos sale la pantalla inicial, comenzamos a configurar.
![image](https://github.com/user-attachments/assets/6798728c-7d7e-45e1-a25d-d8710129915e)

2.Para acceder a la configuraci√≥n de pfSense desde el equipo anfitri√≥n, ambos dispositivos deben estar en la misma red y divisi√≥n. 

3.Accedemos a la interfaz web de pfSense.

-En la configuraci√≥n b√°sica del sistema:

`
-Configura un dominio (por ejemplo, pfsense.kirby.local).
`

`
-Establecen servidores DNS como 1.1.1.1 y 8.8.8.8.
`

`
-Selecciona la zona horaria adecuada (por ejemplo, Europe/Madrid).
`

`
-Cambia la contrase√±a del administrador para mayor seguridad.
`

4.Pasos clave:

`
-Configura la red de pfSense para que est√© en la misma divisi√≥n de red que el equipo anfitri√≥n y se pueda conectar.
`

`
-Habilita DHCP en pfSense para asignar autom√°ticamente direcciones IP a las m√°quinas virtuales.
`

`
-Accede al firewall desde el equipo anfitri√≥n para realizar configuraciones iniciales.
`

`
-Instala paquetes adicionales seg√∫n sea necesario (por ejemplo, para proxy y VPN).
`


**5.OpenVPN**

-¬øQue es?

Un servidor VPN es una herramienta esencial para garantizar la seguridad y privacidad en l√≠nea, proporcionando una conexi√≥n cifrada entre un dispositivo cliente y una red privada a trav√©s de Internet.

OpenVPN es un protocolo popular y de c√≥digo abierto que se utiliza para crear estas conexiones seguras. En el caso de pfSense, una plataforma de gesti√≥n de redes, se puede integrar OpenVPN para ofrecer una soluci√≥n completa de VPN.

`
-Instalar el plugin OpenVPN Client.
`
Lo primero es descargar el paquete **openvpn-client-export** y para ello vamos a **System - Package Manager - Available Packages** y buscamos el paquete **openvpn-client-export** y pulsamos en Install.
![image](https://github.com/user-attachments/assets/3b976c1a-c590-464c-84d7-c32ec756acc0)

`
-Crear certificados digitales (CA y certificado del servidor).
`

Una CA es, una entidad confiable responsable de emitir y revocar certificados digitales utilizados para transacciones y firmas electr√≥nicas.
Abrimos la interfaz del pfSense y navegamos hasta **System - Certificate Manager** y hacemos clic en Agregar.
![image](https://github.com/user-attachments/assets/dc27824b-4420-44ce-ac4b-d5b593893c97)

`
-Configurar el servidor OpenVPN para permitir conexiones remotas.
`

Ahora vamos a configurar el servidor OpenVPN a donde se van a conectar los clientes para lo cual, nos vamos a **VPN - OpenVPN - Servers** y clicamos en Add y rellenamos las opciones:
![image](https://github.com/user-attachments/assets/a81b28dc-b88b-43c2-ab55-3e2ee11f2931)

`
-Configurar las reglas de firewall para permitir el acceso.
`

Ahora nos toca crear una regla en la WAN que nos permita el acceso a trav√©s del puerto de VPN.  

Para ello, clicamos en **Firewall - Rules - WAN**  y vamos a crear la regla, clicando donde dice Add rule to the top of the list.

![image](https://github.com/user-attachments/assets/69393009-e5bc-4239-8334-613b90c467fe)

`
-Exportar la configuraci√≥n para los clientes.
`

Primero tenemos que crear un usuario nuevo, por tanto nos vamos a **System - User Manager**

Creamos un nuevo usuario y clicamos en Click to **create a user certificate** para crear el certificado para ese usuario.

Una vez creado nuestro usuario de prueba ver c√≥mo  exportar los clientes VPN. Para ello seleccionamos en el men√∫  a **VPN - OpenVPN - Client Export**.

`
-Verificar el estado del servicio y las conexiones de clientes.
`

En el caso de utilizar un dispositivo m√≥vil, tendr√≠amos que instalar la **OpenVPN** for Android 

Hay que exportar el certificado del cliente que hemos creado a nuestro dispositivo para comprobar su funcionamiento.



## 15. **SOPHOS**  üîê

**1.	¬øQu√© es Sophos y para qu√© se utiliza?**

Sophos ofrece soluciones de protecci√≥n para redes, dispositivos y sistemas inform√°ticos. Sus productos incluyen firewalls, antivirus, protecci√≥n contra malware y herramientas de gesti√≥n de seguridad, tanto para entornos empresariales como dom√©sticos.

**2.	¬øEn qu√© sistema se basa?**

Sophos utiliza un sistema propietario y tecnolog√≠as avanzadas basadas en la nube para proteger a sus usuarios compatible en Windows, macOS y Linux. 

**3.	¬øCu√°les son las principales caracter√≠sticas de Sophos?**

-Protecci√≥n avanzada contra amenazas: Incluye defensa contra malware, ransomware y otras amenazas cibern√©ticas.

-Protecci√≥n contra intrusiones y filtrado web: Detecta y previene intentos de intrusi√≥n y controla el acceso a sitios web peligrosos.

-Gesti√≥n centralizada: Ofrece una consola √∫nica para gestionar la seguridad de todos los dispositivos conectados.

-Prevenci√≥n de p√©rdida de datos: Ayuda a proteger informaci√≥n sensible y cumple con normativas de privacidad.

**4.	¬øC√≥mo se instala y configura Sophos? ¬øQu√© debemos tener en consideraci√≥n al instalarlo en un entorno virtual?**

La instalaci√≥n de Sophos depende del producto espec√≠fico, pero generalmente incluye la descarga desde su web, la instalaci√≥n en un servidor o dispositivo y la configuraci√≥n mediante la consola de administraci√≥n centralizada. En entornos virtuales es esencial verificar la compatibilidad con la plataforma de virtualizaci√≥n y asegurar que los recursos del sistema sean suficientes para no afectar el rendimiento.

**5.	¬øConsideras sophos una opci√≥n viable para empresas y redes dom√©sticas?**

S√≠, Sophos es una opci√≥n muy buena tanto para empresas como para redes dom√©sticas pero en nuestro caso hemos elegido el pfsense ya que estabamos m√°s familiarizados con el. Para empresas, ofrece soluciones completas de seguridad con una excelente capacidad de gesti√≥n centralizada, ideal para infraestructuras complejas. En redes dom√©sticas, sus soluciones de antivirus y firewall proporcionan una protecci√≥n confiable contra amenazas sin ser costosas. Adem√°s su interfaz amigable y su soporte t√©cnico hacen que sea una opci√≥n popular.

## 16. **Port Forward** üîå

**1.  ¬øQu√© es port Forward?** 

Es un proceso en el cual se configuran los routers o cortafuegos para permitir que el tr√°fico de la red externa llegue a un dispositivo espec√≠fico dentro de una red privada local, b√°sicamente es como si fuera un tunel que permite el acceso de una red externa a una interna y pueda ver y acceder a lo que quieras.

**2. ¬øC√≥mo funciona el port forwarding?**

El router tiene una direcci√≥n IP p√∫blica y un n√∫mero de puertos que est√°n relacionados con servicios espec√≠ficos.
Cuando alguien desde fuera de tu red intenta acceder a tu direcci√≥n IP p√∫blica usando un puerto determinado, el router dirige ese tr√°fico hacia un dispositivo de la red local que tiene ese puerto abierto.

**3. ¬øPor qu√© es importante?**

Es √∫til cuando se desea hacer accesibles ciertos servicios o aplicaciones, como:

-Servidores web.

-Juegos en l√≠nea.

-C√°maras de seguridad.

-Servicios de acceso remoto.

**4. Conlusi√≥n**
Hemos optado por pfSense debido a que lo estamos viendo en clase y consideramos que ser√° m√°s f√°cil de configurarlo con el apoyo y soporte de nuestros profesores. Adem√°s, al ser una herramienta de c√≥digo abierto, ofrece flexibilidad y una amplia gama de caracter√≠sticas avanzadas que se ajustan perfectamente a nuestras necesidades.

## **17. TrueNAS**  üñ•Ô∏è  

**1. ¬øQu√© es TrueNAS y para qu√© se utiliza?**

TrueNAS es un sistema operativo basado en FreeBSD y OpenZFS, dise√±ado para la gesti√≥n y almacenamiento de datos en red. Se usa para almacenar, proteger y gestionar datos de manera eficiente en entornos personales y empresariales.  

**2. ¬øEn qu√© sistema se basa?**  
TrueNAS se basa en FreeBSD y utiliza el sistema de archivos ZFS, que proporciona alta tolerancia a fallos, verificaci√≥n de integridad y snapshots para la protecci√≥n de datos.  

**3. ¬øCu√°les son las principales caracter√≠sticas de TrueNAS?**

- **Almacenamiento en red (NAS/SAN):** Compatible con SMB, NFS e iSCSI para compartir archivos de manera eficiente.
- **RAID y redundancia:** Usa **ZFS** para evitar p√©rdida de informaci√≥n y mejorar la estabilidad del almacenamiento.  
- **Interfaz web intuitiva:** Facilita la administraci√≥n sin necesidad de comandos complejos.  
- **Compatibilidad con virtualizaci√≥n:** Se integra con Docker, Kubernetes y m√°quinas virtuales.  

**4. ¬øC√≥mo se instalar√° y configurar√° TrueNAS en nuestro proyecto?**  
En JAF Technology, usaremos el TrueNAS para gestionar las copias de seguridad del servidor, asegurando que los archivos del sitio web, bases de datos y configuraciones est√©n protegidos. La instalaci√≥n incluir√°:  

1. **Descarga e instalaci√≥n** en un servidor dedicado o m√°quina virtual.  
2. **Configuraci√≥n del almacenamiento y creaci√≥n de pools ZFS**.  
3. **Habilitaci√≥n de servicios SMB/NFS para compartir archivos en la red**.  
4. **Automatizaci√≥n de copias de seguridad y replicaci√≥n remota**.  

**5. ¬øPor qu√© es una opci√≥n viable para nuestro proyecto?**  
TrueNAS es ideal para nuestro servicio de hosting, ya que ofrece una soluci√≥n segura, escalable y confiable para la gesti√≥n de datos. Su capacidad de recuperaci√≥n ante fallos y facilidad de administraci√≥n garantizan la estabilidad del proyecto sin costos adicionales de licencias.


## **17.1 Instalaci√≥n TrueNAS**  üñ•Ô∏è 

**Creamos la maquina virtual**

Descargamos la ISO de truenas para la instalaci√≥n, con tipo BSD y version FreeBSD(64-bit).

**Configuraci√≥n del adaptador de red**
   
En la m√°quina virtual o servidor donde deseas instalar TrueNAS, configura los adaptadores de red.

Adaptador de red: Adaptador Puente, que permitir√° que la m√°quina virtual est√© en la misma red local que el host f√≠sico.

Adaptador de red: Solo Anfitri√≥n, configura un adaptador adicional para comunicaci√≥n privada entre el anfitri√≥n y la m√°quina virtual si es necesario.

**Configuraci√≥n la maquina virtual**

- Una vez que hayas configurado la m√°quina virtual, instala TrueNAS utilizando la ISO descargada. La instalaci√≥n de TrueNAS es sencilla, sigue los pasos predeterminados:

- Elige la opci√≥n de instalaci√≥n por defecto.

- Durante la instalaci√≥n, se configurar√°n autom√°ticamente los discos y las particiones.

- Cuando la instalaci√≥n haya terminado, apaga la m√°quina virtual, elimina la ISO del sistema y reinicia.

**Configuraci√≥n de la red y acceso web**

TrueNAS asignar√° una direcci√≥n IP autom√°ticamente. Aseg√∫rate de que esta IP est√© en el mismo rango de red que tu red local, para poder acceder a la interfaz web desde cualquier navegador en la red local.

Direcci√≥n IP (Ejemplo): 192.168.1.100 o similar, dependiendo de tu configuraci√≥n de red.

Accede a la interfaz web de TrueNAS desde un navegador usando la IP asignada:

`
Ejemplo: http://192.168.1.100
`

**Configuraci√≥n b√°sica del sistema**

Configura un nombre de dominio.

Configura los servidores DNS.

Establece la zona horaria adecuada.

Cambia la contrase√±a de administrador para mayor seguridad.

**Configuraci√≥n de almacenamiento**
   
Ahora, configura los discos duros disponibles para ser usados en TrueNAS. Si est√°s utilizando discos virtuales, aseg√∫rate de que est√©n correctamente detectados.

Crea un pool de almacenamiento seleccionando los discos disponibles.

Configura la estructura RAID si es necesario para redundancia y mayor seguridad de los datos.

**Configuraci√≥n de servicios**

TrueNAS ofrece varios servicios √∫tiles como SMB, NFS, y FTP. Para configurarlos, sigue estos pasos:

Para habilitar el servicio SMB (para compartir archivos con Windows):

Ve a la secci√≥n Sharing.

Selecciona Windows (SMB) Shares.

## **17.2 Comprobaci√≥n truenas**  üñ•Ô∏è 

1. En el Ubuntu server (en el cual tenemos el servidor nginx) e echo un script con
el rysn en el cual e ubicado el scritp en : /usr/local/bin , el script lo que hace es
que hace copias de seguridad de los archivos de configuraci√≥n del servidor nginx
por si hay problemas o se pierden datos recuperarlos lo antes posibles, y al final
con un comando de crontab -e lo automatizamos para que se hagan las copias
cada lunes a las 2 de la ma√±ana.
![image](https://github.com/user-attachments/assets/120a2680-d76b-42f3-ab99-13bbc1e88d9f)
![image](https://github.com/user-attachments/assets/96d4249e-0bbe-4f1a-b1b9-17070acc4f2a)
![image](https://github.com/user-attachments/assets/59bc76cd-fed9-457c-a61e-b00bb433ac01)

2.En el Ubuntu server (donde tengo el pihole ) hacemos exactamente lo mismo.
![image](https://github.com/user-attachments/assets/0ae54927-b1a2-4a34-bb85-7bde4cdc3cb8)
![image](https://github.com/user-attachments/assets/69ab5e2d-867c-4a56-b1ff-275589ecf03a)
![image](https://github.com/user-attachments/assets/38641a77-bb29-4d17-9768-8ab8640085f8)


## **18. RSYNC**

**1. ¬øQu√© es rsync y para qu√© se utiliza?**

Rsync es una herramienta de sincronizaci√≥n de archivos y directorios, se utiliza para copiar y sincronizar archivos de manera eficiente entre dos ubicaciones, ya sea en el mismo sistema o entre sistemas remotos a trav√©s de una red. 

**2. ¬øEn qu√© sistema se basa?**

Rsync est√° dise√±ado para funcionar en sistemas Unix, Linux, macOS y otros sistemas operativos basados en Unix y sirve para sincronizar datos de forma remota.

**3. ¬øCu√°les son las principales caracter√≠sticas de rsync?**

Sincronizaci√≥n eficiente: rsync solo copia los cambios realizados en los archivos, lo que lo hace mucho m√°s r√°pido que las transferencias de archivos tradicionales.

Transferencia remota: Permite la transferencia de archivos entre sistemas locales y remotos mediante SSH o RSync Daemon.

Compresi√≥n de datos: Ofrece la opci√≥n de comprimir los datos durante la transferencia para ahorrar ancho de banda.

Automatizaci√≥n de copias de seguridad: Permite la creaci√≥n de copias de seguridad programadas y sincronizaci√≥n autom√°tica de archivos entre servidores.


## **18.1 Instalaci√≥n RSYNC**

Actualiza el sistem antes de instalarlo con:

`
sudo apt-get update && sudo apt-get upgrade -y
`

Para instalar rsync en sistemas basados en Debian

`
sudo apt-get install rsync
`
Despu√©s de instalar, puedes verificar que rsync se haya instalado correctamente ejecutando:

`
rsync --version
`







## **19. SQL**  üñ•Ô∏è 

**¬øQu√© es SQL y para qu√© se utiliza?**

SQL es un lenguaje est√°ndar utilizado para gestionar bases de datos relacionales, permite realizar operaciones como consultas, actualizaciones, inserciones y eliminaciones de datos en bases de datos. SQL es fundamental para interactuar con sistemas de gesti√≥n de bases de datos.

**¬øCu√°les son las principales caracter√≠sticas de SQL?**

**Consultas complejas** : Permite realizar consultas con operaciones avanzadas como joins, subconsultas y agrupaciones.

**Seguridad de los datos**: SQL incluye funcionalidades para definir roles y permisos, protegiendo los datos de accesos no autorizados.

**Integridad referencial**: SQL puede garantizar que los datos en diferentes tablas se mantengan consistentes mediante claves primarias y for√°neas.

**¬øC√≥mo se utilizar√° SQL en nuestro proyecto?**

En el proyecto lo usaremos para:

Creaci√≥n y mantenimiento de la base de datos: Se dise√±ar√°n y crear√° las tablas necesarias para almacenar los datos de clientes, pedidos y productos.

Consultas y reportes: Utilizaremos MySQL para generar reportes de ventas, consultas de inventarios y otros an√°lisis de datos.

Manejo de transacciones: SQL garantizar√° que las transacciones de compra y venta sean seguras, asegurando que la base de datos se mantenga coherente y libre de errores.


##**22.¬øMySQL?**

**¬øQu√© es MySQL y para qu√© se utiliza?**


## **23. Instalaci√≥n MySQL**  üñ•Ô∏è 

Abre una terminal y ejecuta el siguiente comando:

`
sudo apt update
`

`
sudo apt upgrade
`

Para instalar MySQL, ejecuta el siguiente comando:

`
sudo apt install mysql-server
`

Una vez que MySQL est√© instalado, el servicio deber√≠a iniciarse autom√°ticamente. Puedes verificar si est√° corriendo con el siguiente comando:

`
sudo systemctl status mysql
`

Ahora puedes ingresar a la consola de MySQL para gestionar tus bases de datos. Usa el siguiente comando para iniciar sesi√≥n como el usuario root:

`
sudo mysql -u root -p
`

Los pasos para crear un usuario:

`
CREATE USER 'nombre_usuario'@'localhost' IDENTIFIED BY 'contrase√±a';
GRANT ALL PRIVILEGES ON *.* TO 'nombre_usuario'@'localhost' WITH GRANT OPTION;
FLUSH PRIVILEGES;
`

## **24. MockUp WEB**  üñ•Ô∏è 
![image](https://github.com/user-attachments/assets/f90f49bd-8cf2-49de-80fb-da2f02408daa)
![image](https://github.com/user-attachments/assets/16232e48-5520-4565-9063-dfb5a9cc37c4)
![image](https://github.com/user-attachments/assets/0ab5e4ac-c15a-463b-b71e-40f1c3a9c951)
![image](https://github.com/user-attachments/assets/c2c8d762-b71a-4ca0-8050-6262f3ba0c98)
![image](https://github.com/user-attachments/assets/cb39306b-eb28-4f08-8df0-8c7f1896b61e)
![image](https://github.com/user-attachments/assets/51dd432e-f381-4416-9397-631840c9ec41)

![image](https://github.com/user-attachments/assets/0183ae86-419a-4bc4-8a5c-27234d85ca1b)






## **25. Recursos**  üìö

- **Bibliograf√≠a:**
 


- **Webgraf√≠a:**



- **V√≠deos:**



- **Cursos:**

